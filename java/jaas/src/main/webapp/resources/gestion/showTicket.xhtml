<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">
<composite:interface>
	<composite:attribute name="ticket" />
	<composite:attribute name="referentes" />
	<composite:attribute name="informados" />
</composite:interface>
<composite:implementation>
	<fieldset>
		<div class="control-group">
			<h:outputLabel value="#{messages.ticketTipo}:" for="tipo"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="tipo" value="#{cc.attrs.ticket.tipo.descripcion}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketOrigen}:" for="origen"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="origen" value="#{messages[cc.attrs.ticket.origen.label]}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketTitulo}:" for="titulo"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="titulo" value="#{cc.attrs.ticket.name}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketDescripcion}:"
				for="descripcion" styleClass="control-label" />
			<div class="controls">
				<div class="span8">
					<h:outputText id="descripcion" escape="false"
						value="#{cc.attrs.ticket.descripcion}" />
				</div>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketComentario}:"
				for="comentario" styleClass="control-label" />
			<div class="controls">
				<div class="span8">
					<h:outputText id="comentario" escape="false"
						value="#{cc.attrs.ticket.comentario}" />
				</div>
			</div>
		</div>
		
		<div class="control-group">
			<h:outputLabel value="#{messages.ticketFechaCreacion}:"
				for="fechaCreacion" styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="fechaCreacion" value="#{cc.attrs.ticket.fechaCreacion}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketSolicitadoPor}:"
				for="solicitadoPor" styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="solicitadoPor" value="#{cc.attrs.ticket.solicitadoPor.name}" />
				</span>
			</div>
		</div>

        <div class="control-group">
            <h:outputLabel value="#{messages.ticketProyecto}:" for="proyecto"
                styleClass="control-label" />
            <div class="controls">
                <span class="input-xlarge uneditable-input"> <h:outputText
                        id="proyecto" value="#{cc.attrs.ticket.proyecto.name}" />
                </span>
            </div>
        </div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketAplicacion}:" for="aplicacion"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="aplicacion" value="#{cc.attrs.ticket.activo.name}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketFase}:" for="fase"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="fase" value="#{cc.attrs.ticket.fase.descripcion}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketEstado}:" for="estado"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="estado" value="#{messages[cc.attrs.ticket.estado.label]}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketUsuarioAsignado}:"
				for="usuarioAsignado" styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="usuarioAsignado"
						value="#{cc.attrs.ticket.usuarioAsignado.name}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketEntradaDCM}:" for="entradaDcm"
				styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="entradaDcm" value="#{cc.attrs.ticket.entradaDcm}" />
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketFechaVencimiento}:"
				for="fechaVencimiento" styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> <h:outputText
						id="fechaVencimiento" value="#{cc.attrs.ticket.fechaVencimiento}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</span>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketPrioridad}:"
				for="prioridad" styleClass="control-label" />
			<div class="controls">
				<span class="input-xlarge uneditable-input"> 
					<h:outputText id="prioridad" 
						value="#{cc.attrs.ticket.prioridad}">
					</h:outputText>
				</span>
			</div>
		</div>
		
		<div class="control-group">
			<h:outputLabel value="#{messages.ticketObservacion}:"
				for="observacion" styleClass="control-label" />
			<div class="controls">
				<h:link outcome="/protected/jefeFase/observacion/show.xhtml" 
					rendered="#{request.isUserInRole('TISI_Jefe_Fase')}">
					<h:outputText value="#{cc.attrs.ticket.observacion.codigo}" />
					<f:param name="id" value="#{cc.attrs.ticket.observacion.id}" />	
				</h:link>
				<ui:fragment rendered="#{!request.isUserInRole('TISI_Jefe_Fase')}">
					<span class="input-xlarge uneditable-input"> 
						<h:outputText
							id="observacion" value="#{cc.attrs.ticket.observacion.codigo}">
						</h:outputText>
					</span>
				</ui:fragment>		
			</div>
		</div>
		
		<div class="control-group">
			<h:outputLabel value="#{messages.ticketReferentes}:"
				for="referentesTable" 
				styleClass="control-label" />
			<div class="controls" style="margin-left:215px;">
				<rich:dataTable value="#{cc.attrs.referentes}"
					styleClass="table table-bordered table-striped table-condensed"
					keepSaved="true" id="referentesTable" var="result" rows="10">

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{messages.ticketReferentes}" />
						</f:facet>

						<h:outputText value="#{result.name}" />
					</h:column>

					<f:facet name="footer">
						<rich:dataScroller id="scroller" renderIfSinglePage="false"
							stepControls="show" fastControls="hide" styleClass="pagination"
							for="referentesTable" maxPages="10">
						</rich:dataScroller>
					</f:facet>
				</rich:dataTable>
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel value="#{messages.ticketInformados}:"
				for="informadosTable" 
				styleClass="control-label" />
			<div class="controls" style="margin-left:215px;">
				<rich:dataTable value="#{cc.attrs.informados}"
					styleClass="table table-bordered table-striped table-condensed"
					keepSaved="true" id="informadosTable" var="result" rows="10">

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{messages.ticketInformado}" />
						</f:facet>

						<h:outputText value="#{result.name}" />
					</h:column>

					<f:facet name="footer">
						<rich:dataScroller id="scroller" renderIfSinglePage="false"
							stepControls="show" fastControls="hide" 
							styleClass="pagination"
							for="informadosTable" maxPages="10">
						</rich:dataScroller>
					</f:facet>
				</rich:dataTable>
			</div>
		</div>
	</fieldset>
</composite:implementation>
</html>